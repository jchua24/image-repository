(this["webpackJsonpimage-repository"]=this["webpackJsonpimage-repository"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(97),i=n.n(s),u=(n(107),n(108),n(37)),o=n(3),l=n(9),j=n.n(l),b=n(17),p=n(10);function d(e){var t=e.msg,n=e.type,r=Object(c.useState)(!1),s=Object(p.a)(r,2),i=s[0],u=s[1];return Object(c.useEffect)((function(){t&&(u(!0),setInterval((function(){u(!1)}),2e3))}),[t]),Object(a.jsx)(a.Fragment,{children:i&&Object(a.jsx)("div",{className:"alert alert-".concat(n),children:t})})}var f=n(98),h=n.n(f),O=n(36);function m(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),u=i[0],o=i[1],l=Object(c.useState)(),f=Object(p.a)(l,2),m=f[0],v=f[1],x=Object(c.useState)(""),g=Object(p.a)(x,2),y=g[0],w=g[1],N=Object(c.useState)(""),S=Object(p.a)(N,2),k=S[0],I=S[1],F=Object(c.useState)(!1),R=Object(p.a)(F,2),C=R[0],E=R[1],U=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){o(t.result)}},D=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),o(""),e.prev=2,E(!0),e.next=6,Object(O.a)(t);case 6:E(!1),w("Image uploaded successfully"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),I("Unable to upload file. Please try again!"),E(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"title",children:"Upload an Image"}),Object(a.jsx)(d,{msg:k,type:"danger"}),Object(a.jsx)(d,{msg:y,type:"success"}),Object(a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),m){var t=new FileReader;t.readAsDataURL(m),t.onloadend=function(){D(t.result)},t.onerror=function(){I("something went wrong!")}}},className:"form",children:[Object(a.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];t.name.match(/.(jpg|jpeg|png|gif)$/i)?(U(t),v(t),r(e.target.value)):I("Please upload an image file.")},value:n,className:"form-input"}),Object(a.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]}),C&&Object(a.jsx)(h.a,{type:"Rings",color:"#90EE90",height:100,width:100}),u&&!C&&Object(a.jsx)("img",{src:u,alt:"chosen",style:{height:"300px"}})]})}var v=n(100);function x(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],r=t[1],s=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.b)();case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"title",children:"Gallery"}),Object(a.jsx)("div",{className:"gallery",children:n&&n.map((function(e,t){return Object(a.jsx)(v.Image,{cloudName:"justgetcreative",publicId:e,width:"300",crop:"scale"},t)}))})]})}var g=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(u.a,{children:[Object(a.jsxs)("nav",{className:"nav",children:[Object(a.jsx)("div",{className:"nav-brand",children:"Joshua's Image Repository"}),Object(a.jsxs)("ul",{className:"nav-items",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(u.b,{to:"/",children:"Gallery"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(u.b,{to:"/upload",children:"Upload"})})]})]}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{component:m,path:"/upload"}),Object(a.jsx)(o.a,{component:x,path:"/"})]})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,272)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(270);n(67).config(),i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root")),y()},36:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(9),c=n.n(a),r=n(17),s=n(99),i=n.n(s);n(67).config({path:e+"/../../.env"});var u=i.a.create(),o=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("api/images");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.post("/api/upload/",{data:t});case 3:if(200===(n=e.sent).status){e.next=6;break}throw"Failed to upload image to Cloudinary.";case 6:return e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,"/")}},[[271,1,2]]]);
//# sourceMappingURL=main.810edb6e.chunk.js.map